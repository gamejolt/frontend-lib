@require '~styles/variables'
@require '../../../stylus/common/mixins'

// Most of this styling needs to be done globally.
>>> .timeline-list
	$border-size = 2px

	&-item
		position: relative
		display: block
		color: $gray-dark

		&-bubble
			background-color: $gray-lightest
			text-align: center
			border-radius: 50%
			color: $gray-light
			position: absolute
			left: 0
			top: 0
			width: $timeline-list-icon-size
			height: $timeline-list-icon-size
			line-height: $timeline-list-icon-size
			border: 3px solid $white
			z-index: 1

			> .jolticon
				position: relative
				top: -2px
				margin: 0
				vertical-align: baseline

			img
				border-radius: 50% !important

		&-main
			clearfix()
			padding-bottom: $line-height-computed

			// On desktop it goes full-width. On mobile we have to add the normal padding to the
			// right so it doesn't hit up against the edge.
			@media $media-xs
				padding-right: ($grid-gutter-width-xs / 2)

			$-padding-left = $timeline-list-avatar-margin + $timeline-list-icon-size
			padding-left: $border-size + $-padding-left

			&.is-thread
				border-left: $border-size solid $gray-lighter
				margin-left: ($timeline-list-icon-size / 2)
				padding-left: ($timeline-list-icon-size / 2) + $timeline-list-avatar-margin

				&.is-last
					border-left: 0
					margin-left: 0
					padding-left: $border-size + $-padding-left

		&-meta
			margin-bottom: 10px
			color: $text-muted
			font-size: $font-size-tiny

		&-title
			display: block
			margin-top: 5px
			font-weight: bold
			font-size: $font-size-h4
			color: $gray

			strong, b
				color: $black

		&-title-small
			font-size: $font-size-base

		&-details
			margin-top: 5px

		&-content
			color: $gray-dark

			p:last-child
				margin-bottom: 0

		&-thumb, &-avatar
			float: left
			width: $timeline-list-avatar-size
			height: $timeline-list-avatar-size
			margin-right: $timeline-list-avatar-margin
			border-radius: $border-radius-base

		&-thumb
			background-color: $gray-lightest
			background-repeat: no-repeat
			background-position: center center
			background-size: cover

		&-ad
			margin-left: ($timeline-list-icon-size / 2)
			padding-bottom: $line-height-computed
			border-left: $border-size solid $gray-lighter

			section
				border-top-right-radius: $border-radius-base
				border-bottom-right-radius: $border-radius-base

		&-controls
			.btn-circle
				margin-right: 5px

			// Silly, but we gotta move these back into place.
			.blip
				position: relative
				left: -5px

		/**
		 * Active Item
		 */
		&-bubble.active
			border-color: $gj-blue

		/**
		 * New Item
		 */
		&-bubble.new
			border-color: $gj-pink
