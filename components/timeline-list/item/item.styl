@require '~styles/variables'
@require '../../../stylus/common/mixins'

// Most of this styling needs to be done globally.
>>> .timeline-list
	$border-size = 2px
	$padding-left = $timeline-list-avatar-margin + ($timeline-list-icon-size / 2)

	// For doing a full-bleed within the content.
	&-full-bleed
		@media $media-xs
			margin-left: -($grid-gutter-width-xs / 2)
			margin-right: @margin-left

		@media $media-sm-up
			margin-left: -(($timeline-list-icon-size / 2) + $timeline-list-avatar-margin)

	&-item
		position: relative
		display: block
		color: $gray-dark

		@media $media-xs
			margin-bottom: $line-height-computed

		&-bubble
			background-color: $gray-lightest
			text-align: center
			border-radius: 50%
			color: $gray-light

			@media $media-xs
				display: none

			@media $media-sm-up
				position: absolute
				left: -($timeline-list-icon-size / 2)
				top: 0
				width: $timeline-list-icon-size
				height: $timeline-list-icon-size
				line-height: $timeline-list-icon-size
				border: 5px solid $white
				z-index: 1

			> .jolticon
				position: relative
				top: -2px
				margin: 0
				vertical-align: baseline

			img
				border-radius: 50% !important

		&-main
			clearfix()
			padding-bottom: $line-height-computed

			@media $media-xs
				padding-left: ($grid-gutter-width-xs / 2)
				padding-right: @padding-left

			@media $media-sm-up
				padding-left: $border-size + $padding-left

				&.is-thread
					border-left: $border-size solid $gray-lighter
					padding-left: $padding-left

					&.is-last
						border-left: 0
						padding-left: $border-size + $padding-left

		&-meta
			margin-top: 6px
			color: $text-muted
			font-size: $font-size-tiny

		&-title
			font-weight: bold
			color: $gray

			strong, b
				color: $black

		&-header
			display: block
			background-color: $black
			margin-bottom: $line-height-computed

			@media $media-xs
				margin-left: -($grid-gutter-width-xs / 2)
				margin-right: @margin-left
				border-radius: 0

			@media $media-sm-up
				margin-left: -(($timeline-list-icon-size / 2) + $timeline-list-avatar-margin)
				border-top-right-radius: $border-radius-base
				border-bottom-right-radius: $border-radius-base

			&-content
				clearfix()
				padding: ($grid-gutter-width-xs / 2)

				@media $media-sm-up
					padding-top: ($grid-gutter-width / 2)
					padding-bottom: @padding-top
					padding-left: $timeline-list-avatar-margin + ($timeline-list-icon-size / 2)
					padding-right: @padding-top

				.timeline-list-item-meta
					color: $white

				.timeline-list-item-title
					font-family: $font-family-heading
					font-size: $font-size-h4
					word-wrap: break-word
					hyphens: auto

					@media $media-sm-up
						font-size: $font-size-h3

					&, strong, b
						color: $white

		&-details
			margin-top: 5px

		&-content
			color: $gray-dark

			p:last-child
				margin-bottom: 0

		&-thumb, &-avatar
			float: left
			width: $timeline-list-avatar-size
			height: $timeline-list-avatar-size
			margin-right: $timeline-list-avatar-margin
			border-radius: $border-radius-base

		&-thumb
			background-color: $gray-lightest
			background-repeat: no-repeat
			background-position: center center
			background-size: cover

		&-mark
			float: right
			margin-left: $timeline-list-avatar-margin

		&-ad
			@media $media-sm-up
				margin-left: ($timeline-list-icon-size / 2)

		&-controls
			.btn-circle
				margin-right: 5px

			// Silly, but we gotta move these back into place.
			.blip
				position: relative
				left: -5px

		/**
		 * Active Item
		 */
		&-bubble.active
			background-color: $gj-blue
			border-color: $gj-blue
			color: $white

		&-main.active
			border-color: $gj-blue

		/**
		 * New Item
		 */
		&-bubble.new
			background-color: $gj-pink
			border-color: $gj-pink
			color: $white

		&-main.new
			border-color: $gj-pink
