<app-theme class="user-card" :theme="user.theme">
	<app-tooltip-container>
		<div class="-user-info">
			<div
				class="-header"
				:style="{
					'background-image': headerBackgroundImage,
				}"
				/>

			<router-link
				:to="user.url"
				class="-avatar"
				>
				<app-user-avatar-img
					:user="user"
					/>
			</router-link>

			<div class="-well fill-darker">
				<div class="-display-name">
					<app-jolticon
						v-if="user.is_verified"
						icon="verified"
						big
						class="-verified"
						v-app-tooltip="$gettext( 'profile.verified_tooltip' )"
						/>

					<router-link
						:to="user.url"
						class="link-unstyled"
						>
						{{ user.display_name }}
					</router-link>
				</div>

				<div class="-username">
					<router-link
						:to="user.url"
						class="link-unstyled"
						>
						@{{ user.username }}
					</router-link>
				</div>

				<div class="-follow-counts small">
					<router-link
						:to="{
							name: 'profile.followers',
							params: { username: user.username },
						}"
						:translate-n="followerCount"
						v-translate="{ count: number(followerCount) }"
						translate-plural="<b>%{count}</b> followers"
						>
						1 follower
					</router-link>
					<span class="dot-separator" />
					<router-link
						:to="{
							name: 'profile.following',
							params: { username: user.username },
						}"
						:translate-n="followingCount"
						v-translate="{ count: number(followingCount || 0) }"
						translate-plural="<b>%{count}</b> following"
						>
						<b>1</b> following
					</router-link>
				</div>

				<div class="-follow" v-if="app.user">
					<app-user-follow-widget
						v-if="user.id !== app.user.id"
						:user="user"
						block
						hide-count
						event-label="user-card"
						/>
					<app-button
						v-else
						:to="{
							name: 'profile.overview',
							params: { username: app.user.username },
						}"
						block
						>
						<translate>View Profile</translate>
					</app-button>
				</div>
			</div>
		</div>

		<div class="-stats -well">
			<app-loading
				v-if="isLoading"
				class="sans-margin"
				centered
				/>
			<ul class="stat-list" v-else>
				<li class="stat-big stat-big-smaller">
					<router-link
						class="link-unstyled"
						:to="{
							name: 'profile.overview',
							params: { username: user.username },
						}"
						>
						<div class="stat-big-label">
							<translate>Posts</translate>
						</div>
						<div class="stat-big-digit">
							{{ posts || 0 | number }}
						</div>
					</router-link>
				</li>
				<li class="stat-big stat-big-smaller" v-if="games">
					<router-link
						class="link-unstyled"
						:to="{
							name: 'library.collection.developer',
							params: { id: user.username },
						}"
						>
						<div class="stat-big-label">
							<translate>Games</translate>
						</div>
						<div class="stat-big-digit">
							{{ games | number }}
						</div>
					</router-link>
				</li>
				<li class="stat-big stat-big-smaller" v-if="videos">
					<router-link
						class="link-unstyled"
						:to="{
							name: 'profile.videos',
							params: { username: user.username },
						}"
						>
						<div class="stat-big-label">
							<translate>Videos</translate>
						</div>
						<div class="stat-big-digit">
							{{ videos | number }}
						</div>
					</router-link>
				</li>
			</ul>
		</div>
	</app-tooltip-container>
</app-theme>
